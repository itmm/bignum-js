<doctype html>
<html>
	<head>
		<title>bignum-js unit-tests</title>
		<meta charset="utf-8">
		<link rel="stylesheet" href="test.css">
	</head>
	<body>
		<h1>bignum-js unit-tests</h1>

		<h2>Conversion</h2>
		<p>Convert to and from strings.</p>
		<table>
			<tr><th>Code<th>Result<th>Expected
			<tr><td>bn.toString(null)<td><td>0</td>
			<tr><td>bn.toString({ pos: true, value: new Uint32Array([1234]) })<td><td>1 234</td>
			<tr><td>bn.toString(bn.fromNumber(null, 1234))<td><td>1 234</td>
			<tr><td>bn.toString(bn.fromString(null, '1234'))<td><td>1 234</td>
			<tr><td>bn.fromString(null, '1 234')<td><td>4321</td>
			<tr><td>bn.toString(bn.fromString(null, '1 234'))<td><td>1 234</td>
			<tr><td>bn.toString(bn.fromString(null, ' abc 1+-*[2]34'))<td><td>1 234</td>
		</table>

		<h2>Basic Operations</h2>
		<p>Test basic arithmetic operations.</p>
		<table>
			<tr><th>Code<th>Result<th>Expected
			<tr><td>bn.toString(bn.add(null, bn.fromNumber(null, 1234), bn.fromNumber(null, 1234)))<td><td>2 468</td>
			<tr><td>bn.toString(bn.add(null, bn.fromNumber(null, 1234), bn.fromNumber(null, 2345)))<td><td>3 579</td>
			<tr><td>bn.toString(bn.sub(null, bn.fromNumber(null, 1234), bn.fromNumber(null, 1234)))<td><td>0</td>
			<tr><td>bn.toString(bn.mult(null, bn.fromNumber(null, 123), bn.fromNumber(null, 10001)))<td><td>1 230 123</td>
			<tr><td>bn.toString(bn.div(null, bn.fromNumber(null, 123), bn.fromNumber(null, 10)).result)<td><td>12</td>
			<tr><td>bn.toString(bn.div(null, bn.fromNumber(null, 21), bn.fromNumber(null, 15)).result)<td><td>1</td>
			<tr><td>bn.toString(bn.div(null, bn.fromNumber(null, 21), bn.fromNumber(null, 15)).mod)<td><td>6</td>
			<tr><td>bn.toString(bn.mod(null, bn.fromNumber(null, 123), bn.fromNumber(null, 100)))<td><td>23</td>
			<tr><td>bn.toString(bn.pow(null, bn.fromNumber(null, 10), bn.fromNumber(null, 3)))<td><td>1 000</td>
			<tr><td>bn.toString(bn.pow(null, bn.fromNumber(null,10), bn.fromNumber(null, 8)))<td><td>100 000 000</td>
		</table>

		<h2>Negative Numbers</h2>
		<p>Test basic arithmetic operations.</p>
		<table>
			<tr><th>Code<th>Result<th>Expected
			<tr><td>bn.toString(bn.sub(bn.fromNumber(null, 6), bn.fromNumber(null, 10)))<td><td>-4</td>
			<tr><td>bn.toString(bn.add(bn.negate(bn.fromNumber(null, 5)), bn.negate(bn.fromNumber(8))))<td><td>-13</td>
			<tr><td>bn.toString(bn.div(bn.fromNumber(-10), bn.fromNumber(8)).result)<td><td>-1</td>
			<tr><td>bn.toString(bn.div(bn.fromNumber(-10), bn.fromNumber(8)).mod)<td><td>-2</td>
			<tr><td>bn.toString(bn.div(bn.fromNumber(-10), bn.fromNumber(-8)).result)<td><td>1</td>
			<tr><td>bn.toString(bn.div(bn.fromNumber(-10), bn.fromNumber(-8)).mod)<td><td>-2</td>
			<tr><td>bn.toString(bn.div(bn.fromNumber(-4), bn.fromNumber(8)).mod)<td><td>-4</td>
			<tr><td>bn.toString(bn.sub(bn.fromNumber(8), bn.fromNumber(0)))<td><td>8</td>
			<tr><td>bn.toString(bn.sub(bn.fromNumber(0), bn.fromNumber(8)))<td><td>-8</td>
		</table>

		<h2>Comparison Operations</h2>
		<p>Compare two numbers.</p>
		<table>
			<tr><th>Code<th>Result<th>Expected
			<tr><td>bn.equals(bn.fromNumber(1234), bn.fromNumber(1234))<td><td>true</td>
			<tr><td>bn.equals(bn.fromNumber(1234), bn.fromNumber(2345))<td><td>false</td>
			<tr><td>bn.less(bn.fromNumber(1234), bn.fromNumber(2345))<td><td>true</td>
			<tr><td>bn.less(bn.fromNumber(1234), bn.fromNumber(1234))<td><td>false</td>
			<tr><td>bn.less(bn.fromNumber(2345), bn.fromNumber(1234))<td><td>false</td>
		</table>

		<h2>Configuration</h2>
		<p>Test different formating and representation options.</p>
		<table>
			<tr><th>Code<th>Result<th>Expected
			<tr><td>bn.reconfig({ thousands_separator: '.' }); bn.toString(bn.fromNumber(1234))<td><td>1.234</td>
			<tr><td>bn.reconfig({ thousands_separator: '' }); bn.toString(bn.fromNumber(1234))<td><td>1234</td>
			<tr><td>bn.reconfig({ digits: '01' }); bn.toString(bn.fromNumber(42))<td><td>42</td>
			<tr><td>bn.reconfig({ digits: '01' }); bn.fromString('42')<td><td>010101</td>
			<tr><td>bn.reconfig({ digits: 'ax' }); bn.toString(bn.fromNumber(42))<td><td>42</td>
			<tr><td>bn.reconfig({ digits: 'ax' }); bn.fromNumber(42)<td><td>axaxax</td>
			<tr><td>bn.reconfig({ digits: 'ax' }); bn.toString(bn.pow(bn.fromNumber(2), bn.fromNumber(8)))<td><td>256</td>
			<tr><td>bn.reconfig({ digits: 'ax' }); bn.pow(bn.fromNumber(2), bn.fromNumber(8))<td><td>aaaaaaaax</td>
			<tr><td>bn.reconfig({ digits: '0123456789abcdef' }); bn.fromNumber(0xabcd)<td><td>dcba</td>
		</table>
		<script src="test_all.js"></script>
	</body>
</html>
